# 🔐 1Password + Termius Voice Control Integration Guide
## Secure Credential Management for HigherSelf Network Server

### 🎯 Overview

This guide integrates 1Password Secure Snippets with your Termius voice control setup, providing:
- **Secure credential storage** - No more plaintext passwords
- **Dynamic templates** - Auto-generated timestamps and data
- **Voice + Snippets workflow** - Voice commands + secure credential filling
- **Audit trail** - Track credential usage and voice commands

---

## 🚀 Quick Setup (5 Minutes)

### Step 1: Enable 1Password Secure Snippets
```bash
# Ensure you have 1Password for Mac 8.10.46+
# Then:
```
1. **Open 1Password** → **Settings** → **Labs**
2. **Enable "Secure snippets"**
3. **Allow Accessibility** when prompted
4. **Restart 1Password**

### Step 2: Run Integration Setup
```bash
# In your HigherSelf project directory:
./scripts/termius/setup-1password-integration.sh
```

### Step 3: Create Essential Snippets
Open 1Password and create these 5 snippets:

#### 🔧 Snippet 1: Server Environment
- **Title**: HigherSelf Server Credentials
- **Shortcut**: `;hsenv`
- **Type**: Plain Text
- **Content**:
```bash
# HigherSelf Network Server Environment - {date}
ENVIRONMENT=development
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
VOICE_COMMAND_ENABLED=true
TERMIUS_VOICE_CONTROL_ENABLED=true
ONEPASSWORD_INTEGRATION=true

# Generated on: {date "%A, %B %d, %Y at %H:%M"}
```

#### 🌐 Snippet 2: SiteGround FTP
- **Title**: SiteGround FTP Access
- **Shortcut**: `;sgftp`
- **Type**: Plain Text
- **Content**:
```bash
# SiteGround FTP Configuration - {date}
SITEGROUND_FTP_HOST=your_actual_host
SITEGROUND_FTP_USERNAME=your_actual_username
SITEGROUND_FTP_PASSWORD=your_actual_password
SITEGROUND_SFTP_PORT=22

# Connection test: sftp -P 22 username@host
```

#### 🗄️ Snippet 3: Database Config
- **Title**: HigherSelf Database URI
- **Shortcut**: `;hsdb`
- **Type**: Plain Text
- **Content**:
```bash
# Database Configuration - {date}
MONGODB_URI=mongodb://username:password@host:27017/database
REDIS_URI=redis://password@host:port/db
SUPABASE_URL=https://mmmtfmulvmvtxybwxxrr.supabase.co
SUPABASE_API_KEY=your_actual_api_key

# Generated: {date "%Y-%m-%d %H:%M:%S"}
```

#### 📝 Snippet 4: Voice Command Log
- **Title**: Voice Command Log
- **Shortcut**: `;vclog`
- **Type**: Formatted Text
- **Content**:
```markdown
**Voice Command Executed**
- **Time**: {date "%A, %B %d, %Y at %H:%M:%S"}
- **Command**: {clipboard}
- **Environment**: Development
- **Status**: ✅ Success

---
*Auto-generated by HigherSelf Voice Control System*
```

#### 📊 Snippet 5: Server Status Report
- **Title**: Server Status Template
- **Shortcut**: `;status`
- **Type**: Formatted Text
- **Content**:
```markdown
# 🖥️ HigherSelf Network Server Status Report

**Generated**: {date "%A, %B %d, %Y at %H:%M:%S"}

## 🔍 System Health
- **API Status**: ✅ Online
- **Database**: ✅ Connected
- **Redis Cache**: ✅ Active
- **Voice Control**: ✅ Enabled

## 📊 Current Environment
- **Environment**: Development
- **Server Port**: 8000
- **Docker Status**: Running

## 🎤 Recent Voice Commands
{clipboard}

---
*Report generated via Termius Voice Control*
```

---

## 🎤 Enhanced Voice Control Workflow

### Workflow 1: Secure Server Setup
1. **In terminal, type**: `;hsenv`
2. **Edit credentials** with your actual values
3. **Save to .env file**
4. **In Termius, say**: "start higher self server"
5. **Command logged** to clipboard automatically
6. **In documentation, type**: `;vclog` for formatted log

### Workflow 2: SiteGround Deployment
1. **Type**: `;sgftp` to get FTP credentials
2. **Connect to SiteGround** via SFTP
3. **Say**: "deploy server" in Termius
4. **Type**: `;status` to generate status report

### Workflow 3: Database Management
1. **Type**: `;hsdb` for database connections
2. **Update .env** with actual credentials
3. **Say**: "restart higher self server"
4. **Monitor with**: "server status"

---

## 🔧 Advanced Features

### Dynamic Variables
```bash
{date}                    # Today's date
{time}                    # Current time
{clipboard}               # Clipboard contents
{date "%A, %B %d, %Y"}   # Custom format: "Friday, January 18, 2025"
{date +30D}              # 30 days from now
{time +8h}               # 8 hours from now
```

### Custom Shortcuts
Create your own shortcuts following these patterns:
- `;` prefix for snippets
- `x` prefix for quick commands
- `,` prefix for templates
- `/` prefix for documentation

### Security Best Practices
- **Use unique shortcuts** - Avoid common words
- **Regular rotation** - Update credentials monthly
- **Audit usage** - Review snippet access logs
- **Backup snippets** - Export configurations regularly

---

## 🛡️ Security Benefits

### End-to-End Encryption
- All snippets encrypted in 1Password vault
- Credentials never stored in plaintext
- Secure sync across devices

### Audit Trail
- Track when snippets are used
- Log voice command execution
- Monitor credential access

### Access Control
- Snippets only in your Personal vault
- Require 1Password unlock to access
- Automatic clipboard clearing

---

## 🚨 Troubleshooting

### Snippets Not Expanding
1. **Check 1Password is unlocked**
2. **Verify Accessibility permissions**
3. **Restart 1Password app**
4. **Test with simple snippet first**

### Voice Commands Not Logging
1. **Check ONEPASSWORD_INTEGRATION=true** in .env
2. **Verify clipboard access** permissions
3. **Test manual clipboard copy**
4. **Check server logs** for errors

### Credential Issues
1. **Use `;hsenv` to get template**
2. **Replace ALL placeholder values**
3. **Test connections manually**
4. **Check environment file syntax**

---

## 📈 Usage Examples

### Daily Development Workflow
```bash
# Morning setup
;hsenv          # Get environment template
;status         # Generate status report

# In Termius voice commands:
"server status"     # Check current state
"start higher self server"  # Start if needed

# Documentation
;vclog          # Log voice commands
;status         # Update status report
```

### Production Deployment
```bash
# Secure credential setup
;sgftp          # Get SiteGround credentials
;hsdb           # Get database connections

# Voice deployment
"deploy to production"  # Deploy via voice
;status         # Generate deployment report
```

---

## 🎉 Benefits Summary

✅ **No plaintext credentials** in your codebase
✅ **Instant credential access** anywhere on Mac
✅ **Voice command logging** for audit trails
✅ **Dynamic timestamps** and data insertion
✅ **Secure sync** across all devices
✅ **Professional documentation** generation
✅ **Enhanced security** with encryption
✅ **Streamlined workflows** with automation

---

## 🔄 Next Steps

1. **Create all 5 snippets** in 1Password
2. **Test each shortcut** in different apps
3. **Update credentials** with real values
4. **Practice voice + snippet workflow**
5. **Create custom snippets** for your needs
6. **Set up production environment** snippets
7. **Train team members** on the workflow

**You now have enterprise-grade credential management integrated with voice-controlled server operations!** 🎤🔐
